import router from '@ohos.router';

interface RouterParams {
  action: string;
  todoId: number;
}

@Entry
@Component
export default struct TodoOperation {
  @State todoId: number = -1;
  
  aboutToAppear() {
    const params = router.getParams();
    if (params) {
      const paramsObj = params as Record<string, string | number>;
      if (paramsObj.todoId !== undefined) {
        this.todoId = paramsObj.todoId as number;
      }
    }
  }
  
  build() {
    Stack() {
      Column() {
        // é¡¶éƒ¨æ˜¾ç¤ºå¾…åŠžå·ç 
        Row() {
          Text('22')
            .fontSize(30)
            .fontWeight(FontWeight.Bold)
            .fontColor('#000000')
            .margin({ left: 16 })
          
          Blank()
          
          Row({ space: 16 }) {
            Column() {
              Text('â°')
                .fontSize(26)
                .fontColor('#03A9F4')
              Text('å®šæ—¶æé†’/ä¸“æ³¨')
                .fontSize(12)
                .fontColor('#333333')
                .margin({ top: 4 })
            }
            .alignItems(HorizontalAlign.Center)
            
            Column() {
              Text('ðŸ–¼ï¸')
                .fontSize(26)
                .fontColor('#03A9F4')
              Text('æ›´æ¢èƒŒæ™¯')
                .fontSize(12)
                .fontColor('#333333')
                .margin({ top: 4 })
            }
            .alignItems(HorizontalAlign.Center)
            
            Column() {
              Text('ðŸ“‹')
                .fontSize(26)
                .fontColor('#03A9F4')
              Text('ç‹¬ç«‹ç™½åå•')
                .fontSize(12)
                .fontColor('#333333')
                .margin({ top: 4 })
            }
            .alignItems(HorizontalAlign.Center)
            .margin({ right: 16 })
          }
        }
        .width('100%')
        .height(100)
        .backgroundColor('#FFFFFF')
        .padding({ top: 20 })
        
        // æ“ä½œæŒ‰é’®è¡Œ
        Row() {
          Button('ç¼–è¾‘')
            .fontSize(16)
            .fontColor('#03A9F4')
            .backgroundColor('#E1F5FE')
            .borderRadius(20)
            .height(40)
            .width('33.3%')
            .margin(5)
          
          Button('æŽ’åº | ç§»åŠ¨')
            .fontSize(16)
            .fontColor('#03A9F4')
            .backgroundColor('#E1F5FE')
            .borderRadius(20)
            .height(40)
            .width('33.3%')
            .margin(5)
          
          Button('åˆ é™¤')
            .fontSize(16)
            .fontColor('#FF5252')
            .backgroundColor('#FFEBEE')
            .borderRadius(20)
            .height(40)
            .width('33.3%')
            .margin(5)
            .onClick(() => {
              // åˆ é™¤åŽè¿”å›žé¦–é¡µï¼Œå¹¶ä¼ é€’åˆ é™¤ä¿¡æ¯
              try {
                router.pushUrl({
                  url: 'pages/Index',
                  params: {
                    action: 'delete',
                    todoId: this.todoId
                  }
                });
              } catch (error) {
                console.error(`è¿”å›žé¦–é¡µå‡ºé”™: ${JSON.stringify(error)}`);
                router.back(); // å¦‚æžœè·³è½¬å¤±è´¥åˆ™ç®€å•è¿”å›ž
              }
            })
        }
        .width('100%')
        .padding({ left: 10, right: 10, top: 10, bottom: 10 })
        
        // åŠŸèƒ½åŒºåŸŸ
        Row() {
          Column() {
            Text('ðŸ“Š')
              .fontSize(32)
              .fontColor('#03A9F4')
            Text('ä¸“æ³¨åŽ†å²è®°å½•')
              .fontSize(14)
              .fontColor('#03A9F4')
              .margin({ top: 8 })
          }
          .width('50%')
          .backgroundColor('#E1F5FE')
          .borderRadius(8)
          .padding(20)
          .margin(5)
          
          Column() {
            Text('ðŸ“ˆ')
              .fontSize(32)
              .fontColor('#03A9F4')
            Text('æ•°æ®ç»Ÿè®¡')
              .fontSize(14)
              .fontColor('#03A9F4')
              .margin({ top: 8 })
          }
          .width('50%')
          .backgroundColor('#E1F5FE')
          .borderRadius(8)
          .padding(20)
          .margin(5)
        }
        .width('100%')
        .padding({ left: 10, right: 10 })
        
        // ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ
        Column() {
          Text('ç´¯è®¡ä¸“æ³¨')
            .fontSize(18)
            .fontWeight(FontWeight.Bold)
            .fontColor('#333333')
            .width('100%')
            .textAlign(TextAlign.Center)
            .margin({ top: 16, bottom: 16 })
          
          Row() {
            Text('0')
              .fontSize(40)
              .fontWeight(FontWeight.Bold)
              .fontColor('#03A9F4')
            Text('æ¬¡')
              .fontSize(16)
              .fontColor('#666666')
              .margin({ left: 4, bottom: 8 })
              .alignSelf(ItemAlign.End)
          }
          .justifyContent(FlexAlign.Center)
          .width('50%')
          
          Row() {
            Text('0')
              .fontSize(40)
              .fontWeight(FontWeight.Bold)
              .fontColor('#03A9F4')
            Text('åˆ†é’Ÿ')
              .fontSize(16)
              .fontColor('#666666')
              .margin({ left: 4, bottom: 8 })
              .alignSelf(ItemAlign.End)
          }
          .justifyContent(FlexAlign.Center)
          .width('50%')
        }
        .width('100%')
        .alignItems(HorizontalAlign.Center)
        
        // å®šæ—¶æé†’ä¿¡æ¯
        Column() {
          Text('å®šæ—¶æé†’ | å®šæ—¶å­¦éœ¸æ¨¡å¼')
            .fontSize(16)
            .fontWeight(FontWeight.Bold)
            .fontColor('#03A9F4')
            .width('100%')
            .textAlign(TextAlign.Center)
            .margin({ top: 16, bottom: 8 })
          
          Text('æ²¡æœ‰è®¾ç½®å®šæ—¶æé†’æˆ–å®šæ—¶å­¦éœ¸')
            .fontSize(14)
            .fontColor('#666666')
            .width('100%')
            .textAlign(TextAlign.Center)
            .margin({ bottom: 16 })
          
          Text('ç›®æ ‡æˆªæ­¢æ—¥æœŸ 2025-05-14 å‰©ä½™ 1å¤©')
            .fontSize(16)
            .fontWeight(FontWeight.Bold)
            .fontColor('#03A9F4')
            .width('100%')
            .textAlign(TextAlign.Center)
            .margin({ bottom: 16 })
          
          Row() {
            Column() {
              Text('è®¡åˆ’å†…å·²å®Œæˆ')
                .fontSize(12)
                .fontColor('#666666')
                .margin({ bottom: 4 })
              
              Row() {
                Text('0')
                  .fontSize(24)
                  .fontWeight(FontWeight.Bold)
                  .fontColor('#333333')
                Text('åˆ†é’Ÿ')
                  .fontSize(12)
                  .fontColor('#666666')
                  .alignSelf(ItemAlign.End)
                  .margin({ left: 4, bottom: 4 })
              }
            }
            .width('33.3%')
            .alignItems(HorizontalAlign.Center)
            
            Column() {
              Text('é•¿æœŸè®¡åˆ’å®Œæˆåº¦')
                .fontSize(12)
                .fontColor('#666666')
                .margin({ bottom: 4 })
              
              Row() {
                // åœ†å½¢è¿›åº¦æ¡ï¼ˆç®€åŒ–è¡¨ç¤ºï¼‰
                Stack() {
                  Circle()
                    .width(50)
                    .height(50)
                    .fill('#EEEEEE')
                    .strokeWidth(5)
                    .stroke('#03A9F4')
                  
                  Text('0')
                    .fontSize(16)
                    .fontWeight(FontWeight.Bold)
                    .fontColor('#333333')
                }
              }
            }
            .width('33.3%')
            .alignItems(HorizontalAlign.Center)
            
            Column() {
              Text('è®¡åˆ’æ€»æ•°')
                .fontSize(12)
                .fontColor('#666666')
                .margin({ bottom: 4 })
              
              Row() {
                Text('1980')
                  .fontSize(24)
                  .fontWeight(FontWeight.Bold)
                  .fontColor('#333333')
                Text('åˆ†é’Ÿ')
                  .fontSize(12)
                  .fontColor('#666666')
                  .alignSelf(ItemAlign.End)
                  .margin({ left: 4, bottom: 4 })
              }
            }
            .width('33.3%')
            .alignItems(HorizontalAlign.Center)
          }
          .width('100%')
          .padding({ left: 10, right: 10 })
          
          // åº•éƒ¨ä¿¡æ¯è¡Œ
          Row() {
            Text('ðŸ“…')
              .fontSize(20)
              .fontColor('#666666')
            Text('æ€»å…±åšæŒå¤©æ•°')
              .fontSize(14)
              .fontColor('#666666')
              .margin({ left: 8 })
            
            Blank()
            
            Text('0 å¤©')
              .fontSize(14)
              .fontWeight(FontWeight.Bold)
              .fontColor('#333333')
          }
          .width('100%')
          .padding({ left: 16, right: 16, top: 12, bottom: 12 })
          
          Row() {
            Text('ðŸ”„')
              .fontSize(20)
              .fontColor('#666666')
            Text('è¿žç»­åšæŒå¤©æ•°')
              .fontSize(14)
              .fontColor('#666666')
              .margin({ left: 8 })
            
            Blank()
            
            Text('0 å¤©')
              .fontSize(14)
              .fontWeight(FontWeight.Bold)
              .fontColor('#333333')
          }
          .width('100%')
          .padding({ left: 16, right: 16, top: 12, bottom: 12 })
          
          Row() {
            Text('ðŸ“')
              .fontSize(20)
              .fontColor('#666666')
            Text('åˆ›å»ºæ—¥æœŸ')
              .fontSize(14)
              .fontColor('#666666')
              .margin({ left: 8 })
            
            Blank()
            
            Text('2025å¹´05æœˆ13æ—¥')
              .fontSize(14)
              .fontWeight(FontWeight.Bold)
              .fontColor('#333333')
          }
          .width('100%')
          .padding({ left: 16, right: 16, top: 12, bottom: 24 })
        }
        .width('100%')
        .backgroundColor('#F5F5F5')
        .margin({ top: 16 })
      }
      .width('100%')
      .backgroundColor('#FFFFFF')
      
      // å…³é—­æŒ‰é’®
      Button('Ã—')
        .width(40)
        .height(40)
        .fontSize(24)
        .fontColor('#FFFFFF')
        .backgroundColor('#8A2BE2')
        .borderRadius(20)
        .position({ x: '85%', y: 20 })
        .onClick(() => {
          router.back();
        })
    }
    .width('100%')
    .height('100%')
  }
} 