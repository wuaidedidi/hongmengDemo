// Index.ets
@Entry
@Component
struct Index {
  @State currentIndex: number = 0;
  // ä½¿ç”¨ä¸€ä¸ªåŠé€æ˜Žçš„ç²‰è‰²èƒŒæ™¯è‰²
  @State bgColor: string = 'rgba(255, 192, 203, 0.15)';
  @State isDialogShow: boolean = false;
  @State todoName: string = '';

  build() {
    Stack() {
      // æ•´é¡µèƒŒæ™¯
      Column()
        .width('100%')
        .height('100%')
        .backgroundColor(this.bgColor)
      
      Column() {
        // é¡¶éƒ¨æ ‡é¢˜æ 
        Row() {
          Text('å¾…åŠž')
            .fontSize(22)
            .fontWeight(FontWeight.Bold)
            .fontColor('#FFFFFF')
          
          Blank()
          
          Row({ space: 16 }) {
            Text('âœ“').fontSize(24).fontColor('#FFFFFF')
            Text('+')
              .fontSize(24)
              .fontColor('#FFFFFF')
              .onClick(() => {
                this.isDialogShow = true;
              })
            Text('â‰¡').fontSize(24).fontColor('#FFFFFF')
          }
        }
        .width('100%')
        .height(50)
        .padding({ left: 16, right: 16 })
        .linearGradient({
          angle: 90,
          colors: [['#8A2BE2', 0.0], ['#FF1493', 1.0]]
        })
        
        // ä»»åŠ¡åˆ—è¡¨éƒ¨åˆ†
        Column() {
          // åˆ—è¡¨å¡ç‰‡
          Column({ space: 16 }) {
            // å¡ç‰‡1
            Row() {
              Column() {
                Text('è¡Œ1: ç”¨æˆ·ä¿¡æ¯')
                  .fontSize(16)
                  .fontWeight(FontWeight.Medium)
              }
              .alignItems(HorizontalAlign.Start)
              .layoutWeight(1)
              
              Text('â­')
                .fontSize(24)
                .margin({ right: 8 })
            }
            .height(56)
            .width('100%')
            .padding({ left: 16, right: 16 })
            .alignItems(VerticalAlign.Center)
            .backgroundColor('#FFFFFF')
            .borderRadius(16)
            .shadow({ radius: 6, color: 'rgba(138, 43, 226, 0.15)', offsetX: 0, offsetY: 4 })
            
            // å¡ç‰‡2
            Row() {
              Column() {
                Text('è¡Œ2: è®¢å•ç®¡ç†')
                  .fontSize(16)
                  .fontWeight(FontWeight.Medium)
              }
              .alignItems(HorizontalAlign.Start)
              .layoutWeight(1)
              
              Text('ðŸ›’')
                .fontSize(24)
                .margin({ right: 8 })
            }
            .height(56)
            .width('100%')
            .padding({ left: 16, right: 16 })
            .alignItems(VerticalAlign.Center)
            .backgroundColor('#FFFFFF')
            .borderRadius(16)
            .shadow({ radius: 6, color: 'rgba(138, 43, 226, 0.15)', offsetX: 0, offsetY: 4 })
            
            // å¡ç‰‡3
            Row() {
              Column() {
                Text('è¡Œ3: è”ç³»æ–¹å¼')
                  .fontSize(16)
                  .fontWeight(FontWeight.Medium)
              }
              .alignItems(HorizontalAlign.Start)
              .layoutWeight(1)
              
              Text('ðŸ“ž')
                .fontSize(24)
                .margin({ right: 8 })
            }
            .height(56)
            .width('100%')
            .padding({ left: 16, right: 16 })
            .alignItems(VerticalAlign.Center)
            .backgroundColor('#FFFFFF')
            .borderRadius(16)
            .shadow({ radius: 6, color: 'rgba(138, 43, 226, 0.15)', offsetX: 0, offsetY: 4 })
            
            // å¡ç‰‡4
            Row() {
              Column() {
                Text('è¡Œ4: è´¦æˆ·ä¿¡æ¯')
                  .fontSize(16)
                  .fontWeight(FontWeight.Medium)
              }
              .alignItems(HorizontalAlign.Start)
              .layoutWeight(1)
              
              Text('ðŸ’°')
                .fontSize(24)
                .margin({ right: 8 })
            }
            .height(56)
            .width('100%')
            .padding({ left: 16, right: 16 })
            .alignItems(VerticalAlign.Center)
            .backgroundColor('#FFFFFF')
            .borderRadius(16)
            .shadow({ radius: 6, color: 'rgba(138, 43, 226, 0.15)', offsetX: 0, offsetY: 4 })
          }
          .width('100%')
          
          // æµ®åŠ¨æŒ‰é’®æç¤º
          Row() {
            Text('åŒå‡»ç¼–è¾‘ AI ç»„ä»¶')
              .fontSize(16)
              .fontColor('#FFFFFF')
              .fontWeight(FontWeight.Medium)
          }
          .backgroundColor('rgba(138, 43, 226, 0.8)')
          .borderRadius(24)
          .padding({ left: 16, right: 16, top: 10, bottom: 10 })
          .position({ x: '30%', y: '50%' })
        }
        .width('100%')
        .layoutWeight(1)
        .padding(16)
        
        // åº•éƒ¨å¯¼èˆªæ 
        Row() {
          Column() {
            Text('ðŸ“…').fontSize(24)
            Text('å¾…åŠž').fontSize(12).margin({ top: 4 }).fontColor('#8A2BE2')
          }.layoutWeight(1).justifyContent(FlexAlign.Center)
          
          Column() {
            Text('ðŸ“').fontSize(24)
            Text('å¾…åŠžäº‹é¡¹').fontSize(12).margin({ top: 4 })
          }.layoutWeight(1).justifyContent(FlexAlign.Center)
          
          Column() {
            Text('ðŸ”’').fontSize(24)
            Text('é”æœº').fontSize(12).margin({ top: 4 })
          }.layoutWeight(1).justifyContent(FlexAlign.Center)
          
          Column() {
            Text('ðŸ“Š').fontSize(24)
            Text('ç»Ÿè®¡æ•°æ®').fontSize(12).margin({ top: 4 })
          }.layoutWeight(1).justifyContent(FlexAlign.Center)
          
          Column() {
            Text('ðŸ‘¤').fontSize(24)
            Text('æˆ‘çš„').fontSize(12).margin({ top: 4 })
          }.layoutWeight(1).justifyContent(FlexAlign.Center)
        }
        .height(56)
        .width('100%')
        .backgroundColor('#FFFFFF')
        .border({ width: { top: 1 }, color: { top: '#E0E0E0' } })
      }
      .width('100%')
      .height('100%')
      
      // æ·»åŠ å¾…åŠžå¼¹çª—
      if (this.isDialogShow) {
        Column() {
          Column() {
            // å¼¹çª—æ ‡é¢˜
            Text('æ·»åŠ å¾…åŠž')
              .fontSize(18)
              .fontWeight(FontWeight.Bold)
              .margin({ top: 16, bottom: 20 })
            
            // è¾“å…¥æ¡†
            TextInput({ placeholder: 'è¯·è¾“å…¥å¾…åŠžåç§°' })
              .width('90%')
              .height(50)
              .fontSize(16)
              .placeholderFont({ size: 16 })
              .borderRadius(8)
              .backgroundColor('#F5F5F5')
              .padding({ left: 16, right: 16 })
              .margin({ bottom: 20 })
              .onChange((value: string) => {
                this.todoName = value;
              })
            
            // ç¬¬ä¸€è¡ŒæŒ‰é’®
            Row({ space: 12 }) {
              Button('ç™½å…”é’Ÿ')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
              
              Button('å®šç›®æ ‡')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
              
              Button('å…»ä¹ æƒ¯')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
            }
            .width('90%')
            .margin({ bottom: 12 })
            
            // ç¬¬äºŒè¡ŒæŒ‰é’®
            Row({ space: 12 }) {
              Button('å€’è®¡æ—¶')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
              
              Button('æ­£å‘è®¡æ—¶')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
              
              Button('ä¸è®¡æ—¶')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
            }
            .width('90%')
            .margin({ bottom: 12 })
            
            // ç¬¬ä¸‰è¡ŒæŒ‰é’®
            Row({ space: 12 }) {
              Button('25åˆ†é’Ÿ')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
              
              Button('35åˆ†é’Ÿ')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
              
              Button('è‡ªå®šä¹‰')
                .height(40)
                .layoutWeight(1)
                .borderRadius(8)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
            }
            .width('90%')
            .margin({ bottom: 16 })
            
            // ç¡®è®¤å’Œå–æ¶ˆæŒ‰é’®
            Row({ space: 16 }) {
              Button('å–æ¶ˆ')
                .width('40%')
                .height(45)
                .borderRadius(22)
                .backgroundColor('#F5F5F5')
                .fontColor('#333333')
                .onClick(() => {
                  this.isDialogShow = false;
                })
              
              Button('ç¡®è®¤')
                .width('40%')
                .height(45)
                .borderRadius(22)
                .backgroundColor('#8A2BE2')
                .fontColor('#FFFFFF')
                .onClick(() => {
                  this.isDialogShow = false;
                  // å¯ä»¥æ·»åŠ ä¿å­˜å¾…åŠžçš„é€»è¾‘
                })
            }
            .margin({ bottom: 16 })
          }
          .width('85%')
          .backgroundColor('#FFFFFF')
          .borderRadius(16)
          .padding({ top: 10, bottom: 10 })
          .alignItems(HorizontalAlign.Center)
        }
        .width('100%')
        .height('100%')
        .backgroundColor('rgba(0, 0, 0, 0.5)')
        .justifyContent(FlexAlign.Center)
        .onClick(() => {
          this.isDialogShow = false;
        })
      }
    }
    .width('100%')
    .height('100%')
  }
}