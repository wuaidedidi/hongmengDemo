import { TodoCollection, TodoItem, TodoStatus } from './TodoTypes';

// å®šä¹‰ç»Ÿè®¡æ•°æ®çš„æŽ¥å£
interface Statistics {
  totalTodos: number;
  completedTodos: number;
  totalFocusTime: number;
  todayFocusTime: number;
  weeklyFocusTime: number;
  monthlyFocusTime: number;
}

// ç”ŸæˆéšæœºID
function generateId(): string {
  return Math.random().toString(36).substring(2, 15);
}

// åˆ›å»ºç¤ºä¾‹å¾…åŠžäº‹é¡¹
function createMockTodoItem(title: string, status: TodoStatus = TodoStatus.TODO): TodoItem {
  const todoItem: TodoItem = {
    id: generateId(),
    title,
    status,
    createTime: Date.now(),
    completedTime: status === TodoStatus.COMPLETED ? Date.now() : undefined,
    focusTime: Math.floor(Math.random() * 120),
    isImportant: Math.random() > 0.5,
    isUrgent: Math.random() > 0.7
  };
  return todoItem;
}

// åˆ›å»ºç¤ºä¾‹å¾…åŠžé›†åˆ
function createMockCollection(title: string, items: TodoItem[]): TodoCollection {
  const collection: TodoCollection = {
    id: generateId(),
    title,
    createTime: Date.now(),
    updateTime: Date.now(),
    items,
    totalCount: items.length,
    completedCount: items.filter(item => item.status === TodoStatus.COMPLETED).length,
    color: `#${Math.floor(Math.random()*16777215).toString(16)}`,
    icon: 'ðŸ“',
    isExpanded: false
  };
  return collection;
}

// ç¤ºä¾‹æ•°æ®
export const mockCollections: TodoCollection[] = [
  createMockCollection('å·¥ä½œé¡¹ç›®', [
    createMockTodoItem('å®Œæˆé¡¹ç›®æ–‡æ¡£'),
    createMockTodoItem('ä»£ç å®¡æŸ¥', TodoStatus.IN_PROGRESS),
    createMockTodoItem('ä¿®å¤BUG', TodoStatus.COMPLETED),
    createMockTodoItem('å›¢é˜Ÿä¼šè®®'),
    createMockTodoItem('æ€§èƒ½ä¼˜åŒ–')
  ]),
  createMockCollection('ä¸ªäººå­¦ä¹ ', [
    createMockTodoItem('å­¦ä¹ HarmonyOS'),
    createMockTodoItem('çœ‹æŠ€æœ¯ä¹¦ç±'),
    createMockTodoItem('ç»ƒä¹ ç®—æ³•é¢˜', TodoStatus.IN_PROGRESS),
    createMockTodoItem('å†™æŠ€æœ¯åšå®¢')
  ]),
  createMockCollection('ç”Ÿæ´»å®‰æŽ’', [
    createMockTodoItem('å¥èº«'),
    createMockTodoItem('ä¹°èœ', TodoStatus.COMPLETED),
    createMockTodoItem('æ•´ç†æˆ¿é—´'),
    createMockTodoItem('çœ‹ç”µå½±')
  ]),
  createMockCollection('é˜…è¯»æ¸…å•', [
    createMockTodoItem('ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹'),
    createMockTodoItem('ã€Šç®—æ³•å¯¼è®ºã€‹', TodoStatus.IN_PROGRESS),
    createMockTodoItem('ã€Šè®¾è®¡æ¨¡å¼ã€‹'),
    createMockTodoItem('ã€Šä»£ç å¤§å…¨ã€‹', TodoStatus.COMPLETED)
  ])
];

// ç¤ºä¾‹ç»Ÿè®¡æ•°æ®
export const mockStatistics: Statistics = {
  totalTodos: mockCollections.reduce((sum, collection) => sum + collection.totalCount, 0),
  completedTodos: mockCollections.reduce((sum, collection) => sum + collection.completedCount, 0),
  totalFocusTime: 3600,
  todayFocusTime: 120,
  weeklyFocusTime: 840,
  monthlyFocusTime: 3600
}; 