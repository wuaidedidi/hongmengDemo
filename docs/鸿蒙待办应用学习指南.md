# ğŸŒŸ é¸¿è’™å¾…åŠåº”ç”¨å­¦ä¹ æŒ‡å—

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäº**é¸¿è’™ OS (HarmonyOS)** å¼€å‘çš„ç°ä»£åŒ–å¾…åŠäº‹é¡¹ç®¡ç†åº”ç”¨ï¼Œé‡‡ç”¨**å‰åç«¯åˆ†ç¦»**æ¶æ„ï¼š

- **å‰ç«¯**: é¸¿è’™åŸç”Ÿåº”ç”¨ï¼ˆTypeScript + ArkTSï¼‰
- **åç«¯**: Spring Boot API æœåŠ¡
- **ç‰¹è‰²**: ç»ç’ƒæ‹Ÿæ€ UI è®¾è®¡ã€ä¸“æ³¨è®¡æ—¶å™¨ã€å¤šä¸»é¢˜æ”¯æŒ

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### ğŸ”§ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: é¸¿è’™ ArkTS å¼€å‘æ¡†æ¶
- **UI è®¾è®¡**: ç»ç’ƒæ‹Ÿæ€ (Glassmorphism) é£æ ¼
- **çŠ¶æ€ç®¡ç†**: å“åº”å¼çŠ¶æ€ç®¡ç†
- **åç«¯**: Spring Boot + JPA + H2 æ•°æ®åº“
- **è®¤è¯**: JWT Token è®¤è¯

### ğŸ“ é¡¹ç›®ç»“æ„

```
MyTestProject/
â”œâ”€â”€ entry/                          # é¸¿è’™åº”ç”¨ä¸»æ¨¡å—
â”‚   â”œâ”€â”€ src/main/ets/               # ä¸»è¦æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/             # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ common/            # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ dialogs/           # å¯¹è¯æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ todo/              # å¾…åŠç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/              # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ model/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ utils/                 # å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ types/                 # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ src/main/resources/        # èµ„æºæ–‡ä»¶
â””â”€â”€ server/                        # Spring Bootåç«¯
    â””â”€â”€ src/main/java/com/dailyapp/ # Javaæºä»£ç 
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ğŸ“± ç”¨æˆ·è®¤è¯æ¨¡å—

**æ–‡ä»¶ä½ç½®**: `entry/src/main/ets/components/auth/LoginComponent.ets`

**åŠŸèƒ½ç‰¹ç‚¹**:

- ç”¨æˆ·ç™»å½•/æ³¨å†Œ
- JWT Token ç®¡ç†
- è‡ªåŠ¨ç™»å½•çŠ¶æ€ä¿æŒ
- å®‰å…¨çš„å¯†ç éªŒè¯

**å­¦ä¹ è¦ç‚¹**:

```typescript
// ç”¨æˆ·çŠ¶æ€ç®¡ç†
interface LoginState {
  isLoggedIn: boolean;
  username: string;
  userId?: number;
  token?: string;
}

// ç™»å½•å›è°ƒæ¥å£
interface LoginCallbacks {
  onLoginSuccess: (state: LoginState) => void;
  onLoginError: (error: string) => void;
}
```

### 2. ğŸ“ å¾…åŠäº‹é¡¹ç®¡ç†

**æ–‡ä»¶ä½ç½®**: `entry/src/main/ets/components/todo/SimpleTodoList.ets`

**åŠŸèƒ½ç‰¹ç‚¹**:

- æ·»åŠ /åˆ é™¤/ä¿®æ”¹å¾…åŠäº‹é¡¹
- å¾…åŠçŠ¶æ€åˆ‡æ¢
- ä¸“æ³¨æ—¶é•¿è®¾ç½®
- åˆ†ç±»ç®¡ç†

**æ ¸å¿ƒæ¨¡å‹**:

```typescript
// å¾…åŠäº‹é¡¹æ¨¡å‹
export class TodoItem {
  id: number;
  title: string;
  type: string; // åˆ†ç±»
  duration: number; // ä¸“æ³¨æ—¶é•¿(åˆ†é’Ÿ)
  isCompleted: boolean; // å®ŒæˆçŠ¶æ€
}
```

### 3. â° ä¸“æ³¨è®¡æ—¶å™¨

**æ–‡ä»¶ä½ç½®**: `entry/src/main/ets/pages/FocusTimer.ets`

**åŠŸèƒ½ç‰¹ç‚¹**:

- ç•ªèŒ„é’Ÿè®¡æ—¶
- èƒŒæ™¯éŸ³ä¹æ’­æ”¾
- ä¸“æ³¨æ•°æ®ç»Ÿè®¡
- ä»»åŠ¡å®Œæˆæé†’

### 4. ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ

**æ–‡ä»¶ä½ç½®**: `entry/src/main/ets/services/ThemeService.ets`

**è®¾è®¡ç†å¿µ**:

- **ç»ç’ƒæ‹Ÿæ€è®¾è®¡**: ç°ä»£åŒ–çš„åŠé€æ˜æ•ˆæœ
- **å¤šä¸»é¢˜æ”¯æŒ**: è‹¹æœé£æ ¼çš„æµ…è‰²/æ·±è‰²ä¸»é¢˜
- **åŠ¨æ€ä¸»é¢˜åˆ‡æ¢**: å®æ—¶ä¸»é¢˜å˜æ›´
- **ç²¾è‡´çš„è‰²å½©æ­é…**: ä¸“ä¸šçš„é¢œè‰²ç³»ç»Ÿ

**ä¸»é¢˜é…ç½®ç¤ºä¾‹**:

```typescript
// ç»ç’ƒæ‹Ÿæ€é¢œè‰²ç³»ç»Ÿ
interface GlassmorphismColors {
  // 5å±‚è¡¨é¢é€æ˜åº¦
  surfaceUltraLight: string; // 3% é€æ˜åº¦
  surfaceLight: string; // 8% é€æ˜åº¦
  surfaceMedium: string; // 15% é€æ˜åº¦
  surfaceStrong: string; // 25% é€æ˜åº¦
  surfaceOpaque: string; // ä¸é€æ˜è¡¨é¢

  // 6çº§é˜´å½±æ·±åº¦
  shadowSubtle: string; // æè½»é˜´å½±
  shadowSoft: string; // æŸ”å’Œé˜´å½±
  shadowMedium: string; // ä¸­ç­‰é˜´å½±
  shadowStrong: string; // å¼ºé˜´å½±
  shadowDeep: string; // æ·±é˜´å½±
  shadowGlow: string; // å‘å…‰é˜´å½±
}
```

### 5. ğŸŒ API æœåŠ¡å±‚

**æ–‡ä»¶ä½ç½®**: `entry/src/main/ets/services/ApiService.ets`

**æ¶æ„ç‰¹ç‚¹**:

- **å•ä¾‹æ¨¡å¼**: å…¨å±€ç»Ÿä¸€çš„ API æœåŠ¡å®ä¾‹
- **JWT è®¤è¯**: è‡ªåŠ¨å¤„ç† Token è®¤è¯
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
- **æ•°æ®ç¼“å­˜**: æœ¬åœ°æ•°æ®æŒä¹…åŒ–

**å…³é”®æ¥å£**:

```typescript
// APIæœåŠ¡æ ¸å¿ƒæ–¹æ³•
export class ApiService {
  // ç”¨æˆ·è®¤è¯
  async login(username: string, password: string): Promise<AuthResponse>;

  // å¾…åŠäº‹é¡¹CRUD
  async getTodoItems(): Promise<TodoItem[]>;
  async createTodoItem(todo: TodoItemRequest): Promise<TodoItem>;
  async updateTodoItem(id: number, todo: TodoItemRequest): Promise<TodoItem>;
  async deleteTodoItem(id: number): Promise<void>;

  // ä¸“æ³¨ä¼šè¯ç®¡ç†
  async createFocusSession(session: FocusSessionRequest): Promise<FocusSession>;
  async getStatistics(): Promise<StatisticsResponse>;
}
```

## ğŸ”§ é¸¿è’™å¼€å‘æ ¸å¿ƒæ¦‚å¿µ

### 1. ğŸ“± åº”ç”¨å…¥å£ (EntryAbility)

**æ–‡ä»¶**: `entry/src/main/ets/entryability/EntryAbility.ets`

```typescript
// åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
export default class EntryAbility extends UIAbility {
  onCreate(want: Want, launchParam: AbilityConstant.LaunchParam): void {
    // åº”ç”¨åˆ›å»ºæ—¶çš„åˆå§‹åŒ–é€»è¾‘
  }

  onWindowStageCreate(windowStage: window.WindowStage): void {
    // åŠ è½½ä¸»é¡µé¢
    windowStage.loadContent("pages/Index");
  }
}
```

### 2. ğŸ¨ ç»„ä»¶åŒ–å¼€å‘

**é¸¿è’™ç»„ä»¶ç‰¹ç‚¹**:

- `@Component`: å£°æ˜å¼ç»„ä»¶
- `@Entry`: é¡µé¢å…¥å£ç»„ä»¶
- `@State`: å“åº”å¼çŠ¶æ€
- `@Prop`: ç»„ä»¶å±æ€§

**ç¤ºä¾‹**:

```typescript
@Component
export struct SimpleTodoList {
  @State todos: TodoItem[] = [];           // å“åº”å¼çŠ¶æ€
  @State isLoading: boolean = false;

  async aboutToAppear() {
    // ç»„ä»¶å³å°†æ˜¾ç¤ºæ—¶çš„åˆå§‹åŒ–
    await this.loadTodos();
  }

  build() {
    // å£°æ˜å¼UIæ„å»º
    Column() {
      ForEach(this.todos, (todo: TodoItem) => {
        TodoItemCard({ todo: todo })
      })
    }
  }
}
```

### 3. ğŸ“ å¸ƒå±€ç³»ç»Ÿ

**é¸¿è’™å¸ƒå±€å®¹å™¨**:

- `Column`: å‚ç›´å¸ƒå±€
- `Row`: æ°´å¹³å¸ƒå±€
- `Stack`: å †å å¸ƒå±€
- `Flex`: å¼¹æ€§å¸ƒå±€

### 4. ğŸ¯ è·¯ç”±å¯¼èˆª

```typescript
// é¡µé¢è·³è½¬
router.pushUrl({
  url: "pages/TodoDetail",
  params: { todoId: 123 },
});

// è·å–è·¯ç”±å‚æ•°
const params = router.getParams() as TodoDetailParams;
```

## ğŸŒŸ é¡¹ç›®äº®ç‚¹

### 1. ç°ä»£åŒ– UI è®¾è®¡

- **ç»ç’ƒæ‹Ÿæ€æ•ˆæœ**: åŠé€æ˜å±‚æ¬¡æ„Ÿ
- **æµç•…åŠ¨ç”»**: åŸç”Ÿ 60fps åŠ¨ç”»
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸

### 2. ä¼˜ç§€çš„ä»£ç æ¶æ„

- **ç»„ä»¶åŒ–å¼€å‘**: é«˜åº¦å¯å¤ç”¨çš„ç»„ä»¶
- **æœåŠ¡å±‚åˆ†ç¦»**: æ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘åˆ†å±‚
- **ç»Ÿä¸€çŠ¶æ€ç®¡ç†**: å…¨å±€çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ

### 3. å®Œå–„çš„é”™è¯¯å¤„ç†

```typescript
// ç»Ÿä¸€é”™è¯¯å¤„ç†å·¥å…·
await safeExecute(
  async () => {
    // ä¸šåŠ¡é€»è¾‘
    const result = await this.apiService.getTodos();
    return result;
  },
  (error: ErrorInfo) => {
    // é”™è¯¯å¤„ç†
    console.error("æ“ä½œå¤±è´¥:", error.message);
    promptAction.showToast({ message: "åŠ è½½å¤±è´¥" });
  }
);
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

1. å®‰è£… DevEco Studio (é¸¿è’™å¼€å‘ IDE)
2. é…ç½® HarmonyOS SDK
3. å®‰è£… Java 11+ (åç«¯å¼€å‘)

### 2. è¿è¡Œé¡¹ç›®

```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd server
./start.sh

# æ„å»ºé¸¿è’™åº”ç”¨
# åœ¨ DevEco Studio ä¸­æ‰“å¼€ entry æ¨¡å—
# ç‚¹å‡»è¿è¡ŒæŒ‰é’®æˆ–ä½¿ç”¨å¿«æ·é”® Ctrl+R
```

### 3. å­¦ä¹ è·¯å¾„å»ºè®®

**ç¬¬ä¸€é˜¶æ®µ: åŸºç¡€ç†è§£**

1. é˜…è¯» `EntryAbility.ets` - äº†è§£åº”ç”¨å…¥å£
2. å­¦ä¹  `Index.ets` - æŒæ¡ä¸»é¡µé¢ç»“æ„
3. ç ”ç©¶ `LoginComponent.ets` - ç†è§£ç»„ä»¶å¼€å‘

**ç¬¬äºŒé˜¶æ®µ: æ ¸å¿ƒåŠŸèƒ½**

1. åˆ†æ `TodoItem.ets` - æ•°æ®æ¨¡å‹è®¾è®¡
2. å­¦ä¹  `ApiService.ets` - ç½‘ç»œè¯·æ±‚å¤„ç†
3. ç ”ç©¶ `ThemeService.ets` - ä¸»é¢˜ç³»ç»Ÿå®ç°

**ç¬¬ä¸‰é˜¶æ®µ: é«˜çº§ç‰¹æ€§**

1. æ·±å…¥ `GlassmorphismStyles.ets` - UI è®¾è®¡å®ç°
2. å­¦ä¹  `StateManager.ets` - çŠ¶æ€ç®¡ç†
3. ç ”ç©¶ `ErrorHandler.ets` - é”™è¯¯å¤„ç†æœºåˆ¶

## ğŸ“š å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£

- [é¸¿è’™å¼€å‘è€…å®˜ç½‘](https://developer.harmonyos.com/)
- [ArkTS è¯­è¨€å‚è€ƒ](https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/arkts-basic-syntax-overview-0000001531611153-V3)

### æ ¸å¿ƒæ¦‚å¿µ

- **å£°æ˜å¼ UI**: åŸºäºçŠ¶æ€é©±åŠ¨çš„ UI å¼€å‘
- **ç»„ä»¶åŒ–å¼€å‘**: æ¨¡å—åŒ–ã€å¯å¤ç”¨çš„ç»„ä»¶è®¾è®¡
- **ç”Ÿå‘½å‘¨æœŸç®¡ç†**: ç»„ä»¶å’Œé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ
- **çŠ¶æ€ç®¡ç†**: å“åº”å¼æ•°æ®ç»‘å®š

## ğŸ¯ è¿›é˜¶å­¦ä¹ æ–¹å‘

1. **æ€§èƒ½ä¼˜åŒ–**: ç»„ä»¶æ¸²æŸ“ä¼˜åŒ–ã€å†…å­˜ç®¡ç†
2. **åŠ¨ç”»æ•ˆæœ**: å¤æ‚åŠ¨ç”»å’Œè½¬åœºæ•ˆæœ
3. **è®¾å¤‡é€‚é…**: å¤šè®¾å¤‡å°ºå¯¸é€‚é…
4. **åŸç”Ÿèƒ½åŠ›**: è°ƒç”¨ç³»ç»Ÿ API å’Œç¡¬ä»¶èƒ½åŠ›
5. **åˆ†å¸ƒå¼å¼€å‘**: å¤šè®¾å¤‡ååŒå¼€å‘

---

> ğŸ’¡ **å­¦ä¹ æç¤º**: å»ºè®®ä»ç®€å•çš„ç»„ä»¶å¼€å§‹å­¦ä¹ ï¼Œé€æ­¥æ·±å…¥åˆ°å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚å¤šå®è·µã€å¤šè°ƒè¯•ï¼Œç†è§£é¸¿è’™å¼€å‘çš„è®¾è®¡ç†å¿µã€‚
